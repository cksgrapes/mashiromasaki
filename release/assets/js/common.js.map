{"version":3,"sources":["common.js"],"names":["local","is_mobile","$body","$","$window","window","common","init","setWindowWidth","setMenuScroll","setToggleMenu","setMasonry","setAnchor","resize","on","width","innerWidth","perfectScrollbar","button","area","$button","areacls","activeCls","$this","this","$area","parent","hasClass","removeClass","addClass","document","event","target","closest","length","trigger","$container","masonry","itemSelector","columnWidth","gutter","percentPosition","infinitescroll","navSelector","nextSelector","contentSelector","dataType","loading","msgText","finishedMsg","selector","speed","newElements","$newElems","offset","trg","trgpos","each","e","preventDefault","attr","top","animate","scrollTop"],"mappings":"AAAA,YAEA,IAAIA,OAAQA,UAAaC,SAEzBD,OAAME,MAAQC,EAAE,QAChBH,MAAMI,QAAUD,EAAEE,QAEjB,SAASC,GACRA,EAAOC,KAAO,WACZC,IACAC,IACAC,EAAc,gBAAgB,eAC9BA,EAAc,mBAAmB,aACjCC,IACAC,KAGFN,EAAOO,OAAS,WACdb,MAAMI,QAAQU,GAAG,cAAe,WAC9BN,IACAC,MAIJ,IAAID,GAAiB,WACnBR,MAAMe,MAAQV,OAAOW,WACrBf,UAAeD,MAAMe,MAAQ,KAG3BN,EAAgB,WAClBN,EAAE,mBAAmBc,oBAGnBP,EAAgB,SAASQ,EAAOC,GAClC,GAAIC,GAAUjB,EAAEe,GACZG,EAAUF,EACVG,EAAY,QAChBF,GAAQN,GAAG,QAAS,WAClB,GAAIS,GAAQpB,EAAEqB,MACVC,EAAQF,EAAMG,QACfD,GAAME,SAASL,GAChBG,EAAMG,YAAYN,GAElBG,EAAMI,SAASP,KAGnBnB,EAAE2B,UAAUhB,GAAG,QAAS,SAASiB,GAC1B5B,EAAE4B,EAAMC,QAAQC,QAAQZ,GAASa,QAChC/B,EAAEkB,GAASM,SAASL,IACtBF,EAAQe,QAAQ,YAMpBxB,EAAa,WACf,GAAMR,EAAE,YAAkB,OAA1B,CAGA,GAAIiC,GAAajC,EAAE,WACnBiC,GAAWC,SACTC,aAAc,OACdC,YAAa,eACbC,OAAQ,gBACRC,iBAAiB,IAEnBL,EAAWM,gBACTC,YAAe,cACfC,aAAe,gBACfN,aAAe,OACfO,gBAAkB,UAClBC,SAAU,MACVC,SACEC,QAAS,8EACTC,YAAa,GACbC,SAAU,QACVC,MAAO,IAGX,SAAUC,GACR,GAAIC,GAAYlD,EAAGiD,EACnBhB,GAAWC,QAAS,WAAYgB,GAAW,OAI3CzC,EAAY,SAAS0C,GACvB,GACIC,GAAIC,EADJF,EAASA,GAAU,CAEvBnD,GAAE,gBAAgBsD,KAAK,WACrBtD,EAAEqB,MAAMV,GAAG,QAAQ,SAAS4C,GAC1BA,EAAEC,iBACFJ,EAAMpD,EAAEqB,MAAMoC,KAAK,QACnBJ,EAAgB,YAAPD,GAAqBpD,EAAEoD,GAAKD,SAASO,IAEnC,YAAPN,GAAqBpD,EAAE,aAAa2D,SAASC,UAAW,GAAI,KAChE5D,EAAE,aAAa2D,SAASC,UAAYP,EAASF,EAAS,KAAO,WAKnEtD,MAAMM,OAASN,MAAMM,YAEvBN,MAAMM,OAAOC,OACbP,MAAMM,OAAOO","file":"common.js","sourcesContent":["'use strict';\n\nvar local = local || {}, is_mobile;\n\nlocal.$body = $('body');\nlocal.$window = $(window);\n\n(function(common){\n  common.init = function() {\n    setWindowWidth();\n    setMenuScroll();\n    setToggleMenu('.toggleButton','.toggleArea');\n    setToggleMenu('.controls_button','.controls');\n    setMasonry();\n    setAnchor();\n  };\n\n  common.resize = function() {\n    local.$window.on('load resize', function(){\n      setWindowWidth();\n      setMenuScroll();\n    });\n  }\n\n  var setWindowWidth = function() {\n    local.width = window.innerWidth;\n    is_mobile   = (local.width < 768) ? true : false;\n  };\n\n  var setMenuScroll = function() {\n    $('.toggleContents').perfectScrollbar();\n  };\n\n  var setToggleMenu = function(button,area) {\n    var $button = $(button),\n        areacls = area,\n        activeCls = 'active';\n    $button.on('click', function(){\n      var $this = $(this),\n          $area = $this.parent();\n      if($area.hasClass(activeCls)) {\n        $area.removeClass(activeCls);\n      } else {\n        $area.addClass(activeCls);\n      }\n    });\n    $(document).on('click', function(event) {\n      if (!$(event.target).closest(areacls).length) {\n        if ($(areacls).hasClass(activeCls)) {\n          $button.trigger('click');\n        }\n      }\n    });\n  };\n\n  var setMasonry = function() {\n    if (!($('.masonry').length)) {\n      return;\n    }\n    var $container = $('.masonry');\n    $container.masonry({\n      itemSelector: '.col',\n      columnWidth: '.columnSizer',\n      gutter: '.columnGutter',\n      percentPosition: true\n    });\n    $container.infinitescroll({\n      navSelector  : '.navigation',\n      nextSelector : '.navigation a',\n      itemSelector : '.col',\n      contentSelector : '.column',\n      dataType: 'php',\n      loading: {\n        msgText: '<div class=\"loading\"><i class=\"fa fa-spinner\" aria-hidden=\"true\"></i></div>',\n        finishedMsg: '',\n        selector: '.main',\n        speed: 1\n      }\n    },\n    function( newElements ) {\n      var $newElems = $( newElements );\n      $container.masonry( 'appended', $newElems, true );\n    });\n  };\n\n  var setAnchor = function(offset) {\n    var offset = offset || 0;\n    var trg,trgpos;\n    $('a[href^=\"#\"]').each(function() {\n      $(this).on('click',function(e) {\n        e.preventDefault();\n        trg = $(this).attr('href');\n        trgpos = trg != '#pagetop' && $(trg).offset().top;\n\n        if (trg == '#pagetop') { $('html,body').animate({scrollTop: 0}, 500); }\n        $('html,body').animate({scrollTop: (trgpos - offset - 113)}, 500);\n      });\n    });\n  };\n\n}(local.common = local.common || {}));\n\nlocal.common.init();\nlocal.common.resize();\n"]}