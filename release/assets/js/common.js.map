{"version":3,"sources":["common.js"],"names":["local","is_mobile","$body","$","$window","window","common","init","setWindowWidth","setMenuScroll","setMenuToggle","setAnchor","setCurrentLocation","resize","on","setTabChange","width","innerWidth","perfectScrollbar","cls","hasClass","removeClass","addClass","tab","length","each","index","btn","this","find","content","next","hide","eq","show","offset","trg","trgpos","e","preventDefault","attr","top","animate","scrollTop","url","location","pathname","split","$nav","link","indexOf","parent"],"mappings":"AAAA,YAEA,IAAIA,OAAQA,UAAaC,SAEzBD,OAAME,MAAQC,EAAE,QAChBH,MAAMI,QAAUD,EAAEE,QAEjB,SAASC,GACRA,EAAOC,KAAO,WACZC,IACAC,IACAC,IACAC,IACAC,KAGFN,EAAOO,OAAS,WACdb,MAAMI,QAAQU,GAAG,cAAe,WAC9BN,IACAC,IACAM,MAIJ,IAAIP,GAAiB,WACnBR,MAAMgB,MAAQX,OAAOY,WACrBhB,UAAeD,MAAMgB,MAAQ,KAG3BP,EAAgB,WACdR,UACFE,EAAE,kBAAkBe,mBAEpBf,EAAE,kBAAkBe,iBAAiB,YAIrCR,EAAgB,WAClB,GAAIS,GAAM,UACVhB,GAAE,kBAAkBW,GAAG,QAAS,WACxBd,MAAME,MAAMkB,SAASD,GACvBnB,MAAME,MAAMmB,YAAYF,GAExBnB,MAAME,MAAMoB,SAASH,MAKzBJ,EAAe,WACjB,GAAIQ,GAAMpB,EAAE,gBACRoB,GAAIC,QAAU,GAClBD,EAAIE,KAAK,WACP,GAEEC,GAFEC,EAAMxB,EAAEyB,MAAMC,KAAK,MACrBC,EAAU3B,EAAEyB,MAAMG,OAAOF,KAAK,wBAEhCF,GAAIb,GAAG,QAAS,WACZY,EAAQC,EAAID,MAAME,MAClBE,EAAQE,OAAOC,GAAGP,GAAOQ,OACzBP,EAAIN,YAAY,WAChBlB,EAAEyB,MAAMN,SAAS,gBAKrBX,EAAY,SAASwB,GACvB,GACIC,GAAIC,EADJF,EAASA,GAAU,CAEvBhC,GAAE,gBAAgBsB,KAAK,WACrBtB,EAAEyB,MAAMd,GAAG,QAAQ,SAASwB,GAC1BA,EAAEC,iBACFH,EAAMjC,EAAEyB,MAAMY,KAAK,QACnBH,EAAgB,YAAPD,GAAqBjC,EAAEiC,GAAKD,SAASM,IAEnC,YAAPL,GAAqBjC,EAAE,aAAauC,SAASC,UAAW,GAAI,KAChExC,EAAE,aAAauC,SAASC,UAAYN,EAASF,EAAS,KAAO,UAK/DvB,EAAqB,WACvB,GAAIgC,GAAOC,SAASC,SAASC,MAAM,KAAK,GACpCC,EAAO7C,EAAE,8BAA8B0B,KAAK,eAChDmB,GAAKnB,KAAK,KAAKJ,KAAK,WAClB,GAAIwB,GAAO9C,EAAEyB,MAAMY,KAAK,OACnBS,GAAKC,QAAQN,GAAO,GACvBzC,EAAEyB,MAAMuB,SAAS7B,SAAS,cAKhCtB,MAAMM,OAASN,MAAMM,YAEvBN,MAAMM,OAAOC,OACbP,MAAMM,OAAOO","file":"common.js","sourcesContent":["'use strict';\n\nvar local = local || {}, is_mobile;\n\nlocal.$body = $('body');\nlocal.$window = $(window);\n\n(function(common){\n  common.init = function() {\n    setWindowWidth();\n    setMenuScroll();\n    setMenuToggle();\n    setAnchor();\n    setCurrentLocation();\n  };\n\n  common.resize = function() {\n    local.$window.on('load resize', function(){\n      setWindowWidth();\n      setMenuScroll();\n      setTabChange();\n    });\n  }\n\n  var setWindowWidth = function() {\n    local.width = window.innerWidth;\n    is_mobile   = (local.width < 768) ? true : false;\n  };\n\n  var setMenuScroll = function() {\n    if (is_mobile) {\n      $('.js-menuScroll').perfectScrollbar();\n    } else {\n      $('.js-menuScroll').perfectScrollbar('destroy');\n    }\n  };\n\n  var setMenuToggle = function() {\n    var cls = 'menuOpen';\n    $('.js-menuButton').on('click', function(){\n        if (local.$body.hasClass(cls)) {\n          local.$body.removeClass(cls);\n        } else {\n          local.$body.addClass(cls);\n        }\n    });\n  };\n\n  var setTabChange = function() {\n    var tab = $('.js-tabchange');\n    if (tab.length <= 0) { return; }\n    tab.each(function(){\n      var btn = $(this).find('li'),\n        content = $(this).next().find('.js-tabchange-content'),\n        index;\n      btn.on('click', function(){\n          index = btn.index(this);\n          content.hide().eq(index).show();\n          btn.removeClass('current');\n          $(this).addClass('current');\n      });\n    });\n  };\n\n  var setAnchor = function(offset) {\n    var offset = offset || 0;\n    var trg,trgpos;\n    $('a[href^=\"#\"]').each(function() {\n      $(this).on('click',function(e) {\n        e.preventDefault();\n        trg = $(this).attr('href');\n        trgpos = trg != '#pagetop' && $(trg).offset().top;\n\n        if (trg == '#pagetop') { $('html,body').animate({scrollTop: 0}, 500); }\n        $('html,body').animate({scrollTop: (trgpos - offset - 113)}, 500);\n      });\n    });\n  };\n\n  var setCurrentLocation = function () {\n    var url  = location.pathname.split('/')[2],\n        $nav = $('.headerMenu_toggleContents').find('.globalPages');\n    $nav.find('a').each(function(){\n      var link = $(this).attr('href');\n      if ( link.indexOf(url) > 0 ) {\n        $(this).parent().addClass('active');\n      }\n    });\n  };\n\n}(local.common = local.common || {}));\n\nlocal.common.init();\nlocal.common.resize();\n"]}